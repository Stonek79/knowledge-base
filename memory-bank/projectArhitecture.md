# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ Knowledge Base (–ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—â–∏—â—ë–Ω–Ω–æ–π, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–æ–π –∑–∞–∫–ª—é—á–µ–Ω–∏–π —Å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –ø–æ–∏—Å–∫–æ–º –∏ –≥–∏–±–∫–∏–º –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –¥–æ—Å—Ç—É–ø–∞.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ —Å–µ—Ä–≤–∏—Å—ã
–ü—Ä–æ–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω–∞–±–æ—Ä Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö —á–µ—Ä–µ–∑ Docker Compose:
- **`app`**: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ API-—Å–ª–æ–π).
- **`worker`**: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å —Ñ–æ–Ω–æ–≤—ã–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –∑–∞–¥–∞—á (–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è, –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è).
- **`postgres`**: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL (–≤–µ—Ä—Å–∏—è 16).
- **`minio`**: S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è —Ñ–∞–π–ª–æ–≤.
- **`redis`**: –°–µ—Ä–≤–µ—Ä –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—á–µ—Ä–µ–¥–µ–π BullMQ.
- **`gotenberg`**: –°–µ—Ä–≤–∏—Å –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ PDF.

### –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **–°—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: Node.js 18
- **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è**: Docker, Docker Compose
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Next.js 15 (—Å App Router)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL 16 + Prisma ORM
- **–°–±–æ—Ä–∫–∞**: `esbuild` –¥–ª—è –≤–æ—Ä–∫–µ—Ä–∞, `next build` –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- **–§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏**: BullMQ + Redis
- **UI**: React 19, Material-UI (MUI)
- **–ü–æ–∏—Å–∫**: FlexSearch

--- 

## üîí –†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å –∏ –î–æ—Å—Ç—É–ø

- **GUEST (–ì–æ—Å—Ç—å):**
  - –¢–æ–ª—å–∫–æ –ø–æ–∏—Å–∫ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
  - **–ù–µ –º–æ–∂–µ—Ç —Å–∫–∞—á–∏–≤–∞—Ç—å —Ñ–∞–π–ª—ã.**
  - –ù–µ –≤–∏–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö.

- **USER (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å):**
  - –í—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏: —Å–æ–∑–¥–∞–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä, –ø–æ–∏—Å–∫, —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ.
  - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ **—Ç–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö** –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
  - –ú–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å —Å–≤–æ–π –ø–∞—Ä–æ–ª—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ—Ñ–∏–ª—è.

- **ADMIN (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä):**
  - –ü–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–≤–∫–ª—é—á–∞—è —Å–º–µ–Ω—É –ø–∞—Ä–æ–ª–µ–π) –∏ –≤—Å–µ–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏.
  - –°–∫—Ä—ã—Ç –∏–∑ –ø—É–±–ª–∏—á–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ —Ñ–∏–ª—å—Ç—Ä–∞ –∞–≤—Ç–æ—Ä–æ–≤).

### –ù–æ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞
- **–§–ª–∞–≥ `enabled` —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** –í –º–æ–¥–µ–ª—å `User` –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Ñ–ª–∞–≥ `enabled: Boolean @default(false)`. –£–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
- **–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:** –£ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –±—É–¥–µ—Ç —á–µ–∫–±–æ–∫—Å "–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π" (–≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é). –î–æ—Å—Ç—É–ø –∫ —Ç–∞–∫–∏–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ —É –∞–≤—Ç–æ—Ä–∞, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –∏ —É —è–≤–Ω–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –≠—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—É–¥–µ—Ç —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏–∑ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ñ–ª–∞–≥–æ–º `enabled: true`.
- **–°–æ–∑–¥–∞—Ç–µ–ª—å vs. –∞–≤—Ç–æ—Ä:** –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –∏–Ω–≤–∞–∑–∏–≤–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞: –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å `DocumentCreator` (—Ç–∏–ø—ã `INTERNAL`/`EXTERNAL`) —Ö—Ä–∞–Ω–∏—Ç –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ —Å–æ–∑–¥–∞—Ç–µ–ª—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å), –∞ –ø–æ–ª–µ `authorId` –æ—Å—Ç–∞—ë—Ç—Å—è –∏–∑–º–µ–Ω—è–µ–º—ã–º –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–≤—Ç–æ—Ä–∞. –§—Ä–æ–Ω—Ç–µ–Ω–¥-—Ñ–æ—Ä–º—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Ç–µ–∫—É—â–∏–π UX, –¥–æ–±–∞–≤–ª—è—è —Ç–æ–ª—å–∫–æ –≤—ã–±–æ—Ä/–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∞.

---

## ‚öôÔ∏è –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Docker-–æ–∫—Ä—É–∂–µ–Ω–∏—è** –¥–ª—è dev –∏ prod.
- **–ù–∞–¥–µ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏** —á–µ—Ä–µ–∑ `esbuild` –∏ –º–Ω–æ–≥–æ—Å—Ç—É–ø–µ–Ω—á–∞—Ç—ã–π `Dockerfile`.
- **–°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** –Ω–∞ JWT –∏ —Ä–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å (ADMIN, USER, GUEST).
- **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏** –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏.
- **–°–∏—Å—Ç–µ–º–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:** –∑–∞–≥—Ä—É–∑–∫–∞, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ MinIO, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ Gotenberg.
- **–§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏:** –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ BullMQ –∏ Redis.
- **–ë–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫:** —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É –Ω–∞ FlexSearch.

### üìù –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (—Å–º. `FUTURE_WORK.md`)

- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø–æ–∏—Å–∫:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Å—Ö–µ–º—ã "—Å–Ω–∞—á–∞–ª–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤ –ë–î, –ø–æ—Ç–æ–º –ø–æ–∏—Å–∫".
- **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:** –° –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è.
- **–°–∏—Å—Ç–µ–º–∞ "–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö" –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:** –° —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –¥–æ—Å—Ç—É–ø–æ–º –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
- **–ê—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π:** –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–Ω–∞—á–∏–º—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏.
- **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫:** UI –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤-—Å—Å—ã–ª–æ–∫ (`REFERENCE`):** –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –¥—Ä—É–≥–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ —Å–∏—Å—Ç–µ–º–µ.
- **–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ (OCR):** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OCR –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö PDF.
- **–£–ª—É—á—à–µ–Ω–∏–µ UI/UX:** –ü–∞–≥–∏–Ω–∞—Ü–∏—è, —É–ª—É—á—à–µ–Ω–Ω—ã–π –≤—å—é–≤–µ—Ä PDF –∏ —Ç.–¥.
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ CI/CD.**