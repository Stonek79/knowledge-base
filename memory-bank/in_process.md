# üöß –¢–µ–∫—É—â–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ –ø—Ä–æ–µ–∫—Ç–æ–º

–≠—Ç–æ—Ç —Ñ–∞–π–ª –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å —Ä–∞–±–æ—Ç –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏.

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢ 1: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ UI (2-3 –¥–Ω—è)

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ FOUC (Flash of Unstyled Content) ‚úÖ
- [x] –ó–∞–º–µ–Ω–∏—Ç—å `unsafeDecodePayload` –Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é JWT –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ middleware
- [x] –î–æ–±–∞–≤–∏—Ç—å server-side –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö  
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ "–ø—Ä–æ–±–ª–µ—Å–∫–∞" –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### 2. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ PDF.js
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å `<object>` —Ç–µ–≥ –Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `react-pdf`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ PDF

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢ 2: –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞ (2-3 –¥–Ω—è)

### 1. –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (–ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
- [ ] –ë–î: –î–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥ `enabled: Boolean @default(false)` –≤ –º–æ–¥–µ–ª—å `User`
- [ ] –ë–î: –°–æ–∑–¥–∞—Ç—å —Å–≤—è–∑—å –¥–ª—è —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º
- [ ] UI: –î–æ–±–∞–≤–∏—Ç—å —á–µ–∫–±–æ–∫—Å "–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π" –≤ —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] UI: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–º –¥–æ—Å—Ç—É–ø–∞
- [ ] API: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º

### 2. –ë–∞–∑–∞ –¥–ª—è —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ backend)
- [ ] –ë–î: –î–æ–±–∞–≤–∏—Ç—å –≤ –º–æ–¥–µ–ª—å `Document` –ø–æ–ª—è `isSecret: Boolean` –∏ `accessCodeHash: String?`
- [ ] –ë–î: –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π
- [ ] API: –°–æ–∑–¥–∞—Ç—å —Ä–æ—É—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ–∫—Ä–µ—Ç–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ (–±–µ–∑ UI)
- [ ] –õ–æ–≥–∏–∫–∞: –ò—Å–∫–ª—é—á–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ –ø–æ–∏—Å–∫–∞

---

## ‚úÖ –ü–†–ò–û–†–ò–¢–ï–¢ 3: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∏—Å–∫–∞ (–ó–ê–í–ï–†–®–ï–ù!)

### –≠—Ç–∞–ø 1: –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- [x] –ù–∞–π—Ç–∏ –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–∏—Å–∫–∞ –≤ –∫–æ–¥–µ
- [x] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ API endpoints  
- [x] –ò–∑—É—á–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç –ø–æ–∏—Å–∫–∞

### –≠—Ç–∞–ø 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥–∏–±—Ä–∏–¥–Ω–æ–π —Å—Ö–µ–º—ã
- [x] –î–æ–±–∞–≤–∏—Ç—å FlexSearch –≤ `/api/documents` —Å merge –ª–æ–≥–∏–∫–æ–π
- [x] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ –Ω–∞ `q`
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –¥–ª—è –ø–æ–∏—Å–∫–∞ —á–µ—Ä–µ–∑ –ë–î
- [x] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –∞–¥–º–∏–Ω–∫–µ –∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ–∏—Å–∫–∞

### –≠—Ç–∞–ø 3: –û—á–∏—Å—Ç–∫–∞
- [x] –£–¥–∞–ª–∏—Ç—å `/api/documents/search/route.ts` 
- [x] –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ URL
- [x] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `useDocuments`

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢ 4: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏

### 1. –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É `/profile`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ–æ—Ä–º—É —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è
- [ ] API —Ä–æ—É—Ç `POST /api/users/change-password`

### 2. –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- [ ] Zod —Å—Ö–µ–º—ã: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É –¥–ª—è –ø–æ–ª–µ–π `title`, `description`, `keywords`
- [ ] –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –≤—ã–±–æ—Ä –¥–æ 5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç

### 3. UI/UX —É–ª—É—á—à–µ–Ω–∏—è
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å—á–µ—Ç—á–∏–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö
- [ ] –°–¥–µ–ª–∞—Ç—å –º–æ–¥—É–ª–∏ "–ö–∞—Ç–µ–≥–æ—Ä–∏–∏" –∏ "–î–æ–∫—É–º–µ–Ω—Ç—ã" –æ–¥–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

_–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–º–µ—á–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏_

---

## üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ

**–¢–µ–∫—É—â–∞—è –∑–∞–¥–∞—á–∞:** –í–Ω–µ–¥—Ä–µ–Ω–∏–µ PDF.js
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** 
**–°—Ä–æ–∫:** 
**–°—Ç–∞—Ç—É—Å:** üöÄ –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ PDF viewer

---

## üìù –ó–∞–º–µ—Ç–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

### ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã –ø–æ–∏—Å–∫–∞ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–∏—Å–∫ –≤ –∞–¥–º–∏–Ω–∫–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª, –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ URL, –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–†–µ—à–µ–Ω–∏–µ:** –ì–∏–±—Ä–∏–¥–Ω–∞—è —Å—Ö–µ–º–∞ –≤ –µ–¥–∏–Ω–æ–º API endpoint
- **–ï–¥–∏–Ω—ã–π API:** `/api/documents` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏ –ø–æ–∏—Å–∫, –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é
- **–ï—Å–ª–∏ –µ—Å—Ç—å `q`:** FlexSearch –ø–æ–∏—Å–∫ ‚Üí –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ –ë–î ‚Üí merge —Å relevance –∏ highlights  
- **–ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ —Ñ–∏–ª—å—Ç—Ä—ã:** –û–±—ã—á–Ω–∞—è –ë–î —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** `DocumentWithAuthor & { relevance?, highlights?, isSearchResult? }`

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è:**
- –£–±—Ä–∞–ª–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (`q` –∏ `search` ‚Üí —Ç–æ–ª—å–∫–æ `q`)
- –£–¥–∞–ª–∏–ª–∏ `/api/documents/search/route.ts`
- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `useDocuments` (5 –º–∏–Ω –¥–ª—è –ø–æ–∏—Å–∫–∞, 2 —Å–µ–∫ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏)
- –°–æ—Ö—Ä–∞–Ω–∏–ª–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—é –¥–ª—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–ò—Ç–æ–≥:** –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —á–∏—Å—Ç–∞—è, highlights —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã.

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –ü–†–ò–û–†–ò–¢–ï–¢–´

–°–æ–≥–ª–∞—Å–Ω–æ –ø–ª–∞–Ω—É –∏–∑ FUTURE_WORK.md:

**–ü–†–ò–û–†–ò–¢–ï–¢ 1: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ UI (2-3 –¥–Ω—è)**
1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ FOUC (Flash of Unstyled Content) 
2. –í–Ω–µ–¥—Ä–µ–Ω–∏–µ PDF.js - –∑–∞–º–µ–Ω–∞ `<object>` –Ω–∞ `react-pdf`

**–ü–†–ò–û–†–ò–¢–ï–¢ 2: –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø–∞ (2-3 –¥–Ω—è)**  
1. –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (–ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
2. –ë–∞–∑–∞ –¥–ª—è —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ backend)

**–ß—Ç–æ –≤—ã–±–∏—Ä–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–º?**
